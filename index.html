<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Digital Security Surface Scan | Urban Sentinel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="description" content="Non-intrusive website security surface scan using publicly observable HTTP response headers only. Advisory assessment for organisations." />

  <style>
    body {
      background: #0f1115;
      color: #e6e6e6;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      padding: 40px;
      margin: 0;
    }

    h1 {
      font-size: 2.2rem;
      margin-bottom: 10px;
    }

    p {
      color: #b6bcc8;
      max-width: 760px;
      line-height: 1.6;
    }

    .scan-box {
      margin-top: 30px;
      background: #141821;
      padding: 24px;
      border-radius: 8px;
      max-width: 820px;
    }

    input {
      padding: 12px;
      width: 260px;
      background: #0f1115;
      color: #e6e6e6;
      border: 1px solid #2a3140;
      border-radius: 4px;
      font-size: 1rem;
    }

    button {
      padding: 12px 18px;
      margin-left: 10px;
      background: #3b82f6;
      color: #fff;
      border: none;
      border-radius: 4px;
      font-size: 1rem;
      cursor: pointer;
    }

    button:hover {
      background: #2563eb;
    }

    pre {
      margin-top: 25px;
      background: #0b0e14;
      padding: 20px;
      border-radius: 6px;
      color: #cbd5f5;
      white-space: pre-wrap;
      font-size: 0.95rem;
      line-height: 1.45;
    }

    .footer {
      margin-top: 50px;
      font-size: 0.85rem;
      color: #8b92a8;
      max-width: 820px;
    }
  </style>
</head>

<body>

  <h1>Website Security Surface Scan</h1>
  <p>
    This tool performs a non-intrusive advisory assessment of a public website by
    inspecting HTTP response headers that are openly observable by any browser.
    It does not authenticate, probe endpoints, exploit vulnerabilities, or bypass controls.
  </p>

  <div class="scan-box">
    <strong>Website domain</strong><br /><br />

    <input id="domain" placeholder="example.com" />
    <button onclick="runScan()">Run surface scan</button>

    <pre id="output">Awaiting input‚Ä¶</pre>
  </div>

  <div class="footer">
    <strong>Important notice:</strong><br />
    This assessment is advisory only and is based solely on publicly observable response headers.
    It is suitable for risk awareness, uplift planning, and supporting documentation.
    It is not a penetration test or compliance certification.
  </div>

  <script>
    async function runScan() {
      const domainInput = document.getElementById("domain");
      const output = document.getElementById("output");
      let domain = domainInput.value.trim();

      if (!domain) {
        output.textContent = "‚ùå Please enter a valid domain.";
        return;
      }

      if (!domain.startsWith("http")) {
        domain = "https://" + domain;
      }

      output.textContent =
        "üîç Running public header inspection for " + domain + "...\n\n" +
        "Requesting response headers...\n";

      try {
        // CORS-safe public fetch via allorigins proxy
        const response = await fetch(
          "https://api.allorigins.win/raw?url=" + encodeURIComponent(domain),
          { method: "GET" }
        );

        const headers = response.headers;

        const checks = [
          ["Strict-Transport-Security", "HSTS"],
          ["Content-Security-Policy", "Content Security Policy"],
          ["X-Frame-Options", "Clickjacking Protection"],
          ["X-Content-Type-Options", "MIME Sniffing Protection"],
          ["Referrer-Policy", "Referrer Policy"],
          ["Permissions-Policy", "Permissions Policy"]
        ];

        let report = "Header assessment results:\n\n";

        let missing = 0;

        checks.forEach(([header, label]) => {
          const value = headers.get(header);
          if (value) {
            report += `‚úî ${label}: PRESENT\n`;
          } else {
            report += `‚ö† ${label}: NOT DETECTED\n`;
            missing++;
          }
        });

        let risk =
          missing >= 4 ? "HIGH" :
          missing >= 2 ? "MODERATE" :
          "LOW";

        report += `\nOverall surface risk level: ${risk}\n\n`;
        report +=
          "Notes:\n" +
          "- Findings are based solely on publicly visible response headers.\n" +
          "- Absence of a header does not confirm vulnerability, only increased exposure.\n" +
          "- No intrusive testing was performed.";

        output.textContent = report;

      } catch (err) {
        output.textContent =
          "‚ùå Unable to retrieve headers.\n\n" +
          "Possible reasons:\n" +
          "- Site blocks third-party requests\n" +
          "- HTTPS misconfiguration\n" +
          "- Network error\n\n" +
          "This does not imply a security failure.";
      }
    }
  </script>

</body>
</html>
