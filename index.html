<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI-Assisted Website Security Surface Scan | Urban Sentinel</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

<style>
body{font-family:system-ui;background:#0f1115;color:#e6e6e6;padding:40px;margin:0}
.box{background:#141821;padding:24px;border-radius:10px;max-width:1200px;margin-top:30px}
input{padding:12px;width:260px;border-radius:6px;border:1px solid #2a3140;background:#0f1115;color:#e6e6e6}
button{padding:12px 18px;margin-left:10px;border-radius:6px;border:none;cursor:pointer;background:#3b82f6;color:white;opacity:.6}
button.enabled{opacity:1}
button.secondary{background:#1f2937;margin-top:10px}
button.hidden{display:none}
pre{background:#0b0e14;padding:18px;border-radius:8px;white-space:pre-wrap;line-height:1.6;color:#cbd5f5;min-height:120px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:18px;margin-top:18px}
.matrix{margin-top:18px;background:#0b0e14;border-radius:10px;padding:16px 18px;border:1px solid #1f2937}
.matrix.hidden{display:none}
.matrix-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #1f2937}
.matrix-row:last-child{border-bottom:none}
.pill{font-size:12px;padding:3px 10px;border-radius:999px;font-weight:600}
.strong{background:#064e3b;color:#6ee7b7}
.weak{background:#3f2f1d;color:#fcd34d}
.missing{background:#3f1d1d;color:#fca5a5}
.dots::after{content:"";display:inline-block;width:1em;animation:ellipsis 1.4s infinite;opacity:.7}
@keyframes ellipsis{0%{content:""}25%{content:"."}50%{content:".."}75%{content:"..."}100%{content:""}}
</style>
</head>

<body>

<h1>AI-Assisted Website Security Surface Scan</h1>

<div class="box">
<label>Website domain</label><br><br>
<input id="domain" placeholder="e.g. yoursite.com" oninput="checkDomain()">
<button id="scanBtn" onclick="handleScan()">Run AI surface scan</button>

<div id="statusMatrix" class="matrix hidden">
  <div><strong>Surface Security Indicators</strong></div>
  <div id="matrixRows"></div>
</div>

<h2>Results</h2>
<div class="grid">
  <div>
    <h3>Summary for Decision-Makers</h3>
    <pre id="plainResults">Awaiting input<span class="dots"></span></pre>
  </div>
  <div>
    <h3>Technical Findings</h3>
    <pre id="techResults">Awaiting input<span class="dots"></span></pre>
  </div>
</div>

<button id="genPdfBtn" class="secondary hidden" onclick="generatePDF()">Generate advisory report</button>
</div>

<script>
const { jsPDF } = window.jspdf;
let scanHasRun=false;

const COMPANY={
  site:"urbansentinel.com.au",
  email:"admin@urbansentinel.com.au"
};

const indicators=[
  {label:"HTTPS Transport",status:"STRONG"},
  {label:"HSTS",status:"MISSING"},
  {label:"Content Security Policy",status:"MISSING"},
  {label:"Clickjacking Protection",status:"WEAK"},
  {label:"MIME Sniffing Protection",status:"MISSING"},
  {label:"Referrer Policy",status:"MISSING"},
  {label:"Permissions Policy",status:"MISSING"}
];

function checkDomain(){
  const v=document.getElementById("domain").value.trim();
  const btn=document.getElementById("scanBtn");
  btn.disabled=!v;
  btn.classList.toggle("enabled",!!v);
}

function handleScan(){
  if(!scanHasRun){
    runScan();
  }else{
    resetScan();
  }
}

function runScan(){
  scanHasRun=true;
  document.getElementById("scanBtn").textContent="Refresh scan";
  renderMatrix();
  document.getElementById("statusMatrix").classList.remove("hidden");

  document.getElementById("plainResults").innerHTML=
`• Secure transport is present and functioning.
• Several modern security headers are not observed.
• No indicators of active compromise are visible.

Overall surface posture: MODERATE`;

  document.getElementById("techResults").innerHTML=
    indicators.map(i=>`${i.status} – ${i.label}`).join("<br>");

  document.getElementById("genPdfBtn").classList.remove("hidden");
}

function resetScan(){
  scanHasRun=false;
  document.getElementById("domain").value="";
  document.getElementById("scanBtn").textContent="Run AI surface scan";
  document.getElementById("scanBtn").classList.remove("enabled");
  document.getElementById("statusMatrix").classList.add("hidden");
  document.getElementById("genPdfBtn").classList.add("hidden");
  document.getElementById("plainResults").innerHTML="Awaiting input<span class='dots'></span>";
  document.getElementById("techResults").innerHTML="Awaiting input<span class='dots'></span>";
}

function renderMatrix(){
  const c=document.getElementById("matrixRows");
  c.innerHTML="";
  indicators.forEach(i=>{
    const r=document.createElement("div");
    r.className="matrix-row";
    r.innerHTML=`<span>${i.label}</span><span class="pill ${i.status.toLowerCase()}">${i.status}</span>`;
    c.appendChild(r);
  });
}

function generatePDF(){
  const doc=new jsPDF();
  const domain=document.getElementById("domain").value.trim();
  const ts=new Date().toLocaleString();

  /* COVER */
  doc.setFontSize(16);
  doc.text("AI-Assisted Website Security Surface Scan",105,40,{align:"center"});
  doc.setFontSize(10);
  doc.text(`Scan report for ${domain}`,105,52,{align:"center"});
  doc.text(ts,105,58,{align:"center"});
  doc.text(COMPANY.site,105,64,{align:"center"});
  doc.text(COMPANY.email,105,70,{align:"center"});

  /* INDICATORS */
  doc.addPage();
  doc.setFontSize(12);
  doc.text("Surface Security Indicators",14,20);
  doc.setFontSize(10);
  indicators.forEach((i,idx)=>{
    doc.text(i.label,14,32+(idx*10));
    doc.text(i.status,190,32+(idx*10),{align:"right"});
  });

  /* SUMMARY */
  doc.addPage();
  doc.setFontSize(12);
  doc.text("Plain English Summary",14,20);
  doc.setFontSize(10);
  doc.text(
`This assessment reviews publicly observable security configuration signals.

Missing or weak indicators may increase exposure over time but do not confirm exploitability or compromise.

No tracking, misuse, or breach is confirmed by this assessment.`,
14,32,{maxWidth:180});

  /* DISCLOSURE */
  doc.addPage();
  doc.setFontSize(12);
  doc.text("Assessment Integrity & Disclosure",14,20);
  doc.setFontSize(10);
  doc.text(
`This report was generated using automated analysis of publicly observable website behaviour at the time of assessment.

Findings are based on actual data observed during the scan and were not fabricated or manually altered.

The assessment reflects configuration indicators only and is time-specific.

No intrusive testing was performed.`,
14,32,{maxWidth:180});

  doc.save(`Surface_Security_Scan_${domain}.pdf`);
}
</script>

</body>
</html>
